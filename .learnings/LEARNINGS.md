# LEARNINGS.md - 经验沉淀

> 由各 Agent 主动记录，大管家每晚用 `evolver` 提炼并写回全局 SOUL.md / TOOLS.md。

格式：
```
## [YYYY-MM-DD] 经验标题
**Agent：** [角色名]
**场景：** [什么情况下发现的]
**发现：** [具体经验/最佳实践]
**应用：** [如何在未来使用这个经验]
```

---

## [2026-02-26] agents_list 工具语义陷阱 ⚠️

**Agent：** 大管家 - 马云

**场景：** 用户问"你有什么 skill"和验证多 Agent 配置时

**发现：** 
- `agents_list` 工具返回的是**当前会话可 target 的 Agent allowlist**（用于 `sessions_spawn`）
- 不是已配置的 Agent 列表
- 正确的查看方式是 `openclaw agents list` 命令

**应用：** 
- 以后查询 Agent 配置状态，直接用 `openclaw agents list` 命令
- 不要依赖 `agents_list` 工具判断 Agent 是否配置
- 工具返回的信息可能是片面的，需要多角度验证

---

## [2026-02-26] 任务执行五步法 ⚠️

**Agent：** 大管家 - 马云

**场景：** 林哥要求创建 OpenClaw 新手入门文章，大管家没有遵循正确流程导致输出为空

**发现：** 
复杂任务必须遵循以下流程，缺一不可：
1. **头脑风暴** - 先用 `brainstorming` 技能梳理方案，与林哥对齐
2. **资源调研** - 让 @百晓生 - 张一鸣 查 Notebook/现有资料，不重复造轮子
3. **方案确认** - 输出大纲/结构，获林哥确认后再执行
4. **执行生成** - 按确认的方案生成内容
5. **验证交付** - 读取生成内容确认有实质内容，再交付链接

**应用：** 
- 以后任何复杂内容创作任务（文章/报告/文档）都按此流程
- 林哥明确指定协作 Agent 时，必须@对应角色参与
- 输出前必须验证，不能让林哥发现"文档没内容"
- 善用 Notebook 等现有知识库，优先查找再创作

---
